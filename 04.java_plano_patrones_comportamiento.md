# Patrones de comportamiento

Los patrones de comportamiento se enfocan en `c贸mo interact煤an los objetos entre s铆`, es decir, la manera en que se
comunican, delegan responsabilidades o coordinan acciones.

Estos patrones buscan:

- `Separar responsabilidades` claramente.
- Facilitar la extensi贸n o `variaci贸n de comportamiento` sin modificar las clases existentes.
- Promover el principio de `abierto/cerrado` (`OCP del SOLID`).

 Ejemplos cl谩sicos: `Strategy`, `Template Method`, `Observer`, `Command`, `Chain of Responsibility`, etc.

---

## Strategy

El `patr贸n Strategy` define una `familia de algoritmos` o `comportamientos`, los encapsula por separado y permite
`intercambiarlos din谩micamente` sin modificar el c贸digo del cliente que los utiliza. El objeto que usa el algoritmo no
necesita conocer los detalles de implementaci贸n, solo delega la tarea a la estrategia seleccionada.

- Permite que `el comportamiento de una clase cambie en tiempo de ejecuci贸n`, deleg谩ndolo a una interfaz com煤n que
  agrupa distintas estrategias concretas.
- `Favorece` el principio de `abierto/cerrado` y `la composici贸n` sobre la herencia.
- Su objetivo es separar el qu茅 se hace del c贸mo se hace, dando flexibilidad.

### З Casos de uso reales del patr贸n Strategy

Este patr贸n es extremadamente com煤n. Algunos casos en el mundo real:

####  En aplicaciones Java/Spring:

- Algoritmos de validaci贸n de datos (validar distintos tipos de documentos, estrategias de pago, etc.).
- Diferentes formas de env铆o (email, SMS, push).
- Selecci贸n de l贸gica seg煤n el tipo de usuario, tipo de archivo, estado del negocio, etc.
- Estrategias de serializaci贸n (JSON, XML, YAML).
- Estrategias de c谩lculo de precios, descuentos, impuestos.

####  Ejemplos en librer铆as/frameworks:

- Spring Security utiliza Strategy para m煤ltiples mecanismos de autenticaci贸n.
- Spring usa ConversionService para conversi贸n de tipos basada en estrategias.
- Comparator de Java es una forma simplificada de Strategy.

###  Representaci贸n UML del patr贸n Strategy

![01.png](assets/02-java-plano-comportamiento/01.png)

1. La clase `contexto` mantiene una referencia a una de las estrategias concretas y se comunica con este objeto
   煤nicamente a trav茅s de la `interfaz estrategia`.
2. La `interfaz estrategia` es com煤n a todas las estrategias concretas. Declara un m茅todo que la clase contexto utiliza
   para ejecutar una estrategia.
3. Las `estrategias concretas` implementan distintas variaciones de un algoritmo que la clase contexto utiliza.
4. La `clase contexto` invoca el m茅todo de ejecuci贸n en el objeto de estrategia vinculado cada vez que necesita ejecutar
   el algoritmo. La `clase contexto` no sabe con qu茅 tipo de estrategia funciona o c贸mo se ejecuta el algoritmo. La
   `clase contexto` expone un modificador `set()` que permite a los clientes sustituir la estrategia asociada al
   contexto durante el tiempo de ejecuci贸n.
5. El `cliente` crea un objeto de estrategia espec铆fico y lo pasa a la clase contexto.

###  Ejemplo 01: Estrategias de pago

`Contexto realista`: Supongamos que queremos aplicar diferentes estrategias de pago: `tarjeta de cr茅dito`, `PayPal` y
`transferencia bancaria`.

